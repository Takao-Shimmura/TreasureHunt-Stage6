{% extends "layout.html"%}

{% block title%}


å®æ¢ã—ã‚²ãƒ¼ãƒ ã€€çµŒçµ¡çµŒç©´æ¦‚è«–
{% endblock%}

{% block headline%}
{{title}}

{% endblock%}
<!--{% block header%}
{{message}}
{% endblock%} -->

{% block content %}


<!-- Vue.js container -->

<div id="app" class="m-3">

    <message_board/>
</div>


<!-- message_board's template -->
{% raw %}
<!-- <script type="vue/x=template" id="message_board-template"> -->
<script type="text/x-template" id="message_board-template">
<div>
    <div class="text-right h6">
        <a href="javascript:void(0)"
        v-on:click="in_out_check">{{in_out}}</a>
    </div>
    
    <div class="alert alert-success p-1">
        <div v-if="!(login_name=='admin')">
            <h5>{{alert_msg}}</h5>
        </div>
        <div v-else>
            <h5>ç®¡ç†è€…ç”»é¢</h5>
        </div>   
    </div>

    <!--å…¥åŠ›ã€€æ²ç¤ºãƒ‘ãƒãƒ«-->
    <div v-if="login_flg">
        <div class="card">
            <div class="card-header">
            

                <div v-if="login_name=='admin'">
                    <div class="card mt-4">
                        <div class="card-body">
                            
                            <div class="form-group">
                                <button v-on:click="delMsg"
                                    class="btn btn-primary col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4">
                                    å…¥åŠ›å±¥æ­´å‰Šé™¤</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div v-else>
                    <div v-if="!(current_stege==6)">
                        <div v-if="current_stege==7">
                            <h5 class="mt-4">
                                ğŸŒ¸å…¨ã‚¹ãƒ†ãƒ¼ã‚¸ã‚¯ãƒªã‚¢ğŸ‘
                            </h5>
                        </div>
                        <div v-else>
                            <h5 class="mt-4">
                                ğŸ‘‡3æ¡ã®æ•°å­—ã‚’å…¥åŠ›ï¼ˆåŠè§’æ•°å­—ã§ï¼‰
                            </h5>
                        </div>
                    </div>
                    <div v-else-if="current_stege==6">
                        <h5 class="mt-4">
                            ğŸ‘‡ã‚«ã‚®ã‚’å…¥åŠ›ï¼ˆå…¨è§’ã‚«ã‚¿ã‚«ãƒŠã§ï¼‰
                        </h5>
                    </div>

                    <div v-if="!(current_stege==7)">
                        <!-- â†‘ã€€å…¨ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢ã—ãŸã‚‰ã€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãŒæ¶ˆãˆã‚‹ -->
                        <div v-if="inputform_show == 'True'">
                            <!-- â†‘ã€€ãƒã‚ºãƒ¬ãŸã‚‰ã€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãŒæ¶ˆãˆã‚‹ -->
                            <div class="card mt-4">
                                <div class="card-body">
                                    <div class="form-group">
                                        <label for="comment">å…¥åŠ›æ¬„</label>
                                        <div class="row">
                                        <input type="text"  class="form-control col" 
                                            id="comment" name="comment" v-model="post_msg">
                                        <button v-on:click="postMsg"
                                            class="btn btn-primary col-5 col-sm-4 col-md-4 col-lg-4 col-xl-4">
                                            é€ä¿¡/æ›´æ–°</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div v-if="!(inputform_show == 'True')">
                            <!-- â†‘ã€€ãƒã‚ºãƒ¬ãŸã‚‰ã€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãŒå†é–‹ã•ã‚Œã‚‹ã¾ã§ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ -->
                            <div class="card mt-4">
                                <div class="card-body">
                                    <div class="alert alert-success p-1">
                                        <h5>{{hazure_countdown_msg}}</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
         <div v-if="login_flg">
            <div class="card-body">
           
                <h5 class="p-3 h5 text-center">
                    *å…¥åŠ›å±¥æ­´*
                </h5>
                <ul class="list-group list-group-flush">
                    <div v-if="login_name =='admin'">
                        <li v-for="item in msg_data"
                        class=" list-group-item">
                            <!-- â†‘ã€€login_nameãŒadminã ã£ãŸæ™‚ã«ã¯ã€å±¥æ­´ã®ã™ã¹ã¦ã‚’è¡¨ç¤º -->
                            {{item['input_key']}}    ã€{{item['name']}}ã€‘
                        </li>
                    </div>
                    <div v-else>
                        <div v-for="item in msg_data">
                                <!-- â†‘ã€€åŒã˜group_nameã®äººãŒéå»ã«æ²è¼‰ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿è¡¨ç¤ºã—ã¦ã„ã -->
                            <li  class=" list-group-item">
                                {{item['input_key']}}     ({{item['name']}})
                            </li>
                        </div>
                    </div>
                </ul>
            </div>
        </div>

    </div>




    <!-- Login Dialog -->
    <div class="modal fade" id="login">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">
                            {{login_msg}}
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label for="group">ãƒãƒ¼ãƒ å</label>
                            <input type="text"  class="form-control " id="group_input" name="group_input" v-model="group_name">
                            <small class="form-text text-muted">
                                â€»ãƒãƒ¼ãƒ åï¼ˆè‹±å­—ï¼‰ã‚’åŠè§’å¤§æ–‡å­—ã§å…¥åŠ›
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="group">åå‰</label>
                            <input type="text"  class="form-control " id="name_input" name="name_input" v-model="name_id">
                            <small class="form-text text-muted">
                                â€»åå­—ï¼ˆå§“ï¼‰ã‚’æ¼¢å­—ã§å…¥åŠ›
                            </small>
                        </div>
                        <div class="form-group">
                            <button class="btn btn=primary" v-on:click="login">ãƒ­ã‚°ã‚¤ãƒ³</button>
                        </div>
                    </div>
                </div>
            </div>   
        </div>
    </div>

    <!-- Hazure Dialog -->
    <div class="modal fade" id="Hazure">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">
                            ä¸æ­£è§£ï¼
                        </h4>
                    </div>
                    <div class="card-body">
                        <img class="card-img" src="/static/hazure_001.gif">
                    </div>
                    <div class="form-group">
                        <button class="btn btn=primary" v-on:click="closeHazure">é–‰ã˜ã‚‹</button>
                    </div>
                </div>
            </div>   
        </div>
    </div>



    <!-- TreasureBox Dialog -->
    <div class="modal fade" id="TreasureBox">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">
                            {{form_msg}}
                        </h4>
                    </div>
                    <div class="card-body">
                        <!--ã€€â†“ã€€src= ã®å‚ç…§éƒ¨åˆ†ã®URLå†…ã«ã€Vue.jså†…ã§å®šç¾©ã—ãŸå¤‰æ•°ã€Œcurrent_stegeã€ã‚’å…¥ã‚Œè¾¼ã‚“ã§
                        ã€€ã€€    å‹•çš„ãªURLã«ã—ãŸã„å ´åˆã¯ã€{{current_stege}}ã¨æ‹¬ã‚‹å¿…è¦ã¯ãªãã€
                                å›ºå®šã®URLéƒ¨åˆ†ã‚’æ–‡å­—åˆ—ã¨ã—ã¦ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã§æ‹¬ã‚Šã€ãã“ã«ï¼‹è¨˜å·ã§ã€Œcurrent_stegeã€ã‚’å…¥ã‚Œè¾¼ã‚€
                                ã•ã‚‰ã«ã€src= ã«ã€æ˜ç¤ºçš„ã«ã€Œv-bind:ã€ã¨æ¥é ­èªã‚’ã¤ã‘ã‚‹ï¼ˆçœç•¥å¯ï¼‰
                                å‚ç…§â‡’https://www.web-dev-qa-db-ja.com/ja/javascript/vuejs-img-src%E5%A4%89%E6%95%B0%E3%81%A8%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%82%92%E9%80%A3%E7%B5%90%E3%81%99%E3%82%8B/827523891/
                        -->
                        <img class="card-img" v-bind:src="'/static/TreasureBoxOpen'+current_stege_for_treasurebox+'.gif'">
                    </div>
                    <div class="form-group">
                        <button class="btn btn=primary" v-on:click="closeTreasureBox">é–‰ã˜ã‚‹</button>
                    </div>
                </div>
            </div>   
        </div>
    </div>
</div>
</script>
{% endraw %}

<!-- ******************** -->
<!-- * Vue.js Component Script * -->
<!-- ******************** -->
<script>
    /*â†“â†“ã€€setIntervalé–¢æ•° (ä¸€å®šæ™‚é–“ãŒçµŒéã™ã‚‹ã¨ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•æ›´æ–°ã—ç¶šã‘ã¦ãã‚Œã‚‹)ã€€*/
    /*â†“â†“ã€€ã¨ã€clearIntervalé–¢æ•°ï¼ˆãã®è§£é™¤å½¹ã‚’ã—ã¦ãã‚Œã‚‹ï¼‰ã®ãŸã‚ã®ã€Œå¤‰æ•°ã€ã¨ã—ã¦ã€€*/
    /*â†“â†“ã€€ã‚ã‚‰ã‹ã˜ã‚è¨­å®šã—ã¦ãŠãã®ãŒintervalIDã€‚Vue.componentã®å¤–ã§è¨­å®šã—ãªã„ã¨ã€€*/
    /*â†“â†“ã€€Vueå†…ã®functionã‚’çµ‚ãˆã‚‹ãŸã³ã«æ¶ˆã•ã‚Œã¦ã—ã¾ã†ã®ã§ã€ã“ã“ã§å®£è¨€ã—ã¦ãŠãã€€*/
    /*â†“â†“ã€€å‚ç…§ã€€ã€€https://techacademy.jp/magazine/5537ã€€*/
var intervalID
    /*ã€€â†“â†“ã€€ãƒã‚ºãƒ¬ã ã£ãŸæ™‚ã«30ç§’é–“ã€€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’éš ã™ã€‚
    å‚è€ƒã€€https://www.nishishi.com/javascript-tips/temp-box-settimeout.html
    å¤‰æ•°ã€ŒinputFormShowTimerIDã€ã¯ã€ãã®ãŸã‚ã ã‘ã«ç”¨æ„ã—ãŸå¤‰æ•°*/
var inputFormShowTimerID
    /*ã€€â†“â†“ã€€ãƒã‚ºãƒ¬ã ã£ãŸæ™‚ã«30ç§’é–“ã€€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’éš ã—ã¦ã„ã‚‹é–“ã«ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ã€‚
    å‚è€ƒã€€https://www.nishishi.com/javascript-tips/setinterval-passage.html
    å¤‰ã€ŒcountDownIDã€ã¨ã€ŒcountDownSecã€ã¯ã€ãã®ãŸã‚ã ã‘ã«ç”¨æ„ã—ãŸå¤‰æ•°*/
var countDownID
var countDownSec

//message_board object
Vue.component('message_board',{
    template:'#message_board-template',
    data:function(){

        return{
                in_out:'ãƒ­ã‚°ã‚¤ãƒ³',       
                login_flg:false,
                login_name:'',
                login_id:'',
                group_name:'',
                name_id:'',
                form_pass:'',
                login_msg:'ãƒ­ã‚°ã‚¤ãƒ³ã€€ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦',
                alert_msg:'â€»ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„',
                post_msg:'',
                msg_data:[],
                form_msg:'',
                seikai_flg:'',
                current_stege:'',
                cleared_user_name:'',
                inputform_show:'True',
                current_stege_for_treasurebox:'',
                hazure_countdown_msg:'',
        }
    },
    methods:{
        // check login/logout.
        in_out_check:function(e){
            if(this.login_flg){
                this.logout();
            }else{
                this.show_login();
            }   
        },
        //show login dialog
        show_login:function(){
            this.group_name='';
            this.name_id='';
            this.login_id='';
            this.login_msg='ãƒ­ã‚°ã‚¤ãƒ³ã€€ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦';
            $('#login').modal('show');
        },
        //show Hazure dialog
        showHazure:function(){
            $('#Hazure').modal('show');
        },
        //hide Hazure dialog
        closeHazure:function(){
            $('#Hazure').modal('hide');
        },
        //show TreasureBox dialog
        showTreasureBox:function(){
            this.seikai_flg='';
            $('#TreasureBox').modal('show');
        },
        //hide TreasureBox dialog
        closeTreasureBox:function(){
            $('#TreasureBox').modal('hide');
        },
        //access server and logined
        login:function(e){
            let formData= new FormData();
            formData.append("group_name",this.group_name);
            formData.append("name_id",this.name_id);
            let self=this;
            $.ajax({
                type:'POST',
                url:'/login',
                data:formData,
                processData:false,
                contentType:false,
            success:function(Data){
                if (Data[0]=='True'){
                    self.in_out='ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ';
                    self.login_flg=true;
                    self.login_name=Data[1];
                    self.group_name=Data[2];
                    self.login_id=Data[3];
                    self.current_stege=Data[4];
                    self.alert_msg='â€»ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ãŸï¼ ç¾åœ¨ã€€ç¬¬'+self.current_stege+'ã‚¹ãƒ†ãƒ¼ã‚¸ã§ã™';
                    /* self.group_name=''; */
                    $('#login').modal('hide');
                    self.getMsg();
                    /*â†“â†“ã€€setInterval ã‚’ã¤ã‹ã†ã“ã¨ã§ã€ä¸€å®šæ™‚é–“ãŒçµŒéã™ã‚‹ã¨
                    ã€€ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•æ›´æ–°ã—ç¶šã‘ã¦ãã‚Œã‚‹ã€€*/
                /*â†“â†“ã€€getMsgã¨ã„ã†é–¢æ•°ã‚’å®šæœŸçš„ã«è‡ªå‹•æ›´æ–°ã—ç¶šã‘ã¦ãã‚Œã‚‹ã€€*/
                /*â†“â†“ã€€ã‚³ãƒ„ã¯ã€Ã—ã€€getMsg() ã§ã¯ãªã   â—‹ã€€getMsgã€€ã¨ã™ã‚‹ã“ã¨ã€€*/
                /*â†“â†“ã€€logout() æ™‚ã«ã€clearInterval()é–¢æ•°ã§è§£é™¤ã•ã‚Œã‚‹ã€€*/
                /*â†“â†“ã€€å‚ç…§ã€€ã€€https://techacademy.jp/magazine/5537ã€€*/
                    
                    intervalID = setInterval(self.getMsg,10000);
                    
                }else{
                    self.login_msg='ã€Œãƒãƒ¼ãƒ åã€ã‚‚ã—ãã¯ã€Œåå‰ã€ãŒé•ã„ã¾ã™';

                }
            },
            error:function(request,status,err){
                self.login_msg='â€»å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸ';

            }
        });
    },
    //logout
    logout:function(){
        console.log('logout');
        this.in_out='ãƒ­ã‚°ã‚¤ãƒ³';
        this.msg_data=[];
        this.login_flg=false;
        this.login_name='';
        this.login_id='';
        this.alert_msg='â€»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ';
        /*â†“â†“ã€€clearIntervalã«ã‚ˆã£ã¦ã€setIntervalã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•æ›´æ–°ã‚’
        ã‚¹ãƒˆãƒƒãƒ—ã•ã›ã‚‹ã€€*/
        /*â†“â†“ã€€å‚ç…§ã€€ã€€https://techacademy.jp/magazine/5537ã€€*/
        clearInterval(intervalID);

    },
    //post message.
    postMsg:function(){
        let formData=new FormData();
        formData.append("comment",this.post_msg);
        let self=this;
        $.ajax({
            type:'POST',
            url:'/post',
            data:formData,
            processData:false,
            contentType:false,

            success:function(DAT){
                self.post_msg = '';
                self.seikai_flg=DAT[1]
               if(DAT[0]== 'True' &&  self.seikai_flg=='hazure' ) {    
                    self.alert_msg ='ä¸æ­£è§£ï¼';
                    /* â†“ã€€éåŒæœŸå‡¦ç†ãŒã—ã£ã‹ã‚Šçµ‚ã‚ã£ã¦ã‹ã‚‰ã€showHazureãŒé–‹ãã‚ˆã†ã«ã€promiseã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ä½¿ã† */
                    new Promise (resolve =>{
                            self.seikai_flg='';
                            resolve();
                        }).then(()=>self.showHazure());
                
                    self.getMsg(); 
                    /*ã€€â†“â†“ã€€ãƒã‚ºãƒ¬ã ã£ãŸæ™‚ã«30ç§’é–“ã€€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’éš ã™ã€‚
                    å‚è€ƒã€€https://www.nishishi.com/javascript-tips/temp-box-settimeout.html
                    ä¸Šè¨˜URLã®ä¸­ã®ã€Œâ–¼å‡¦ç†å†…å®¹ã‚’ç„¡åé–¢æ•°ã§è¨˜è¿°ã™ã‚‹æ›¸ãæ–¹ã€ã‚’å‚è€ƒã«ã—ãŸã€‚
                    å¤‰æ•°ã€ŒinputFormShowTimerIDã€ã¯ã€ãã®ãŸã‚ã ã‘ã«ç”¨æ„ã—ãŸå¤‰æ•°*/
                    self.inputform_show = 'False';
                    inputFormShowTimerID = setTimeout(function(){self.inputform_show = 'True'},30000);
                    countDownSec= 30;
                    countDownID = setInterval(function(){
                                countDownSec--;
                                self.hazure_countdown_msg="ã‚·ãƒ³ã‚­ãƒ³ã‚°ã‚¿ã‚¤ãƒ ã€€"+countDownSec+"ç§’å¾Œã«å…¥åŠ›ã§ãã¾ã™";
                                },1000);
                    setTimeout(function(){clearInterval(countDownID)},30000);
                    
                   
                }else if(DAT[0]== 'True' && self.seikai_flg=='' ) {     
                    self.getMsg();  
                    }
            },
            
            error:function(request,status,err){
                self.alert_msg='â€»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸ';

            }
        });
        
    },
    //delete message.
    delMsg:function(){
        let self = this;
        $.ajax({
            type:'POST',
            url:'/delete',
            processData:false,
            contentType:false,
            success:function(DAT){
                if (DAT== 'True') {
                    self.seikai_flg='';
                    self.alert_msg ='å…¥åŠ›å±¥æ­´ã‚’å‰Šé™¤ã—ã¾ã—ãŸ';
                    self.getMsg(); 
                }
            },
            
            error:function(request,status,err){
                self.alert_msg='â€»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸ';

            }
        });
        
    },  
  // get all messages.
        getMsg: function() {
            let self = this;
            $.ajax({
                type: 'POST',
                url: '/messages',
                processData: false,
                contentType: false,

                success: function (DATA) {
                    /* console.log(DATA); */ 
                    self.msg_data = DATA[0].reverse();
                    self.seikai_flg= DATA[1];
                    self.current_stege=DATA[2];
                    if(self.current_stege ==7){
                            self.alert_msg='ã‚´ãƒ¼ãƒ«ï¼';
                        }
                        else{self.alert_msg='ç¾åœ¨ã€€ç¬¬'+self.current_stege+'ã‚¹ãƒ†ãƒ¼ã‚¸ã§ã™';};
                    
                    
                
                    if(self.seikai_flg=='atari' ) {     
                     
                        self.seikai_flg='';
                        /* console.log(DATA[0]['group']);
                        console.log(self.group_name); */
                        /* â†“ã€€é€ã‚‰ã‚Œã¦ããŸcurrent_stegeã®Noã‚’ã€-1ã—ã¦å¤‰æ•°current_stege_for_treasureboxã«å…¥ã‚Œã¦ãŠã
                        ï¼ˆtreasureboxãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒ10ç§’ã”ã¨ã«æ›´æ–°ã•ã‚Œã‚‹ã¨ãã«ã€æ¬¡ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã®Noã«ãªã‚‰ãªã„ã‚ˆã†ã«ï¼‰ */
                        self.current_stege_for_treasurebox=String(parseFloat(self.current_stege)-1)
                        self.cleared_user_name=DATA[3];
                        /* â†“ã€€éåŒæœŸå‡¦ç†ãŒã—ã£ã‹ã‚Šçµ‚ã‚ã£ã¦ã‹ã‚‰ã€showTreasureboxãŒé–‹ãã‚ˆã†ã«ã€promiseã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ä½¿ã† */
                        new Promise (resolve =>{
                            if(self.current_stege ==7){
                                self.form_msg = self.cleared_user_name+'ã•ã‚“ãŒã€€å…¨ã‚¹ãƒ†ãƒ¼ã‚¸ ã‚¯ãƒªã‚¢ï¼';
                            }
                            else{self.form_msg = self.cleared_user_name+'ã•ã‚“ãŒã€€ç¬¬'+self.current_stege_for_treasurebox+'ã‚¹ãƒ†ãƒ¼ã‚¸ ã‚¯ãƒªã‚¢ï¼';};
                            
                          resolve();
                        }).then(()=>self.showTreasureBox());
                        
                        /*â†“â†“ã€€å…¨ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢ã—ãŸæ™‚ã«
                        clearIntervalã«ã‚ˆã£ã¦ã€setIntervalã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•æ›´æ–°ã‚’ã‚¹ãƒˆãƒƒãƒ—ã•ã›ã‚‹ã€€*/
                        /*â†“â†“ã€€å‚ç…§ã€€ã€€https://techacademy.jp/magazine/5537ã€€*/
                        if(self.current_stege==7){ 
                            clearInterval(intervalID);
                        }
                        /* self.form_msg = DATA[0][0];
                        && DATA[0]['group'] == self.group_name  */
                        
                        
                        
                        /* 
                        self.showTreasureBox(); */
                    };
                    
                },
                error: function(request, status, err) {
                    self.alert_msg = 'â€»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚';
                }
            });
        },

    },    
});
//start Vue.
new Vue({
    el:'#app',
});
</script>


{% endblock%}

{% block footer%}
copyright=shim
{% endblock%}